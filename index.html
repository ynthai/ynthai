<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабиринт на «Соколе Тысячелетия»</title>
    <!-- Подключаем CSS -->
    <link rel="stylesheet" href="styles.css" onerror="handleError('Failed to load styles.css')">
    <link rel="icon" href="favicon.ico" type="image/x-icon" onerror="handleError('Failed to load favicon.ico')"> <!-- Добавляем favicon -->
</head>
<body>
    <canvas id="mazeCanvas"></canvas>
    <div id="winPopup" class="hidden">
        <h1>Поздравляем!</h1>
        <p>Вы нашли выход из лабиринта.</p>
        <button onclick="resetGame()">Играть снова</button>
    </div>

    <!-- Подключаем Hammer.js для обработки свайпов -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js" 
            onerror="handleError('Failed to load hammer.min.js')"></script>
    <script src="maze.js" onerror="handleError('Failed to load maze.js')"></script> <!-- Подключаем JavaScript -->

    <script>
        // Функция для обработки ошибок
        function handleError(message) {
            const errorContainer = document.createElement('div');
            errorContainer.style.position = 'fixed';
            errorContainer.style.top = '0';
            errorContainer.style.left = '0';
            errorContainer.style.width = '100%';
            errorContainer.style.backgroundColor = '#f44336';
            errorContainer.style.color = '#fff';
            errorContainer.style.padding = '20px';
            errorContainer.style.textAlign = 'center';
            errorContainer.style.zIndex = '10000';
            errorContainer.textContent = message;
            document.body.appendChild(errorContainer);
        }

        // Проверка загрузки всех ресурсов перед началом игры
        window.addEventListener('load', () => {
            if (document.querySelectorAll('link[rel="stylesheet"]').length === 0 || 
                document.querySelectorAll('script[src]').length === 0) {
                handleError('Не все ресурсы были успешно загружены.');
            }
        });
    </script>
</body>
</html>